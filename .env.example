# SECURITY NOTES
# - Keep all secrets (VAPID, Reverb, Pusher) out of version control
# - Use strong, random keys for REVERB_APP_KEY and REVERB_APP_SECRET
# - In production, always use https/wss protocols
# - File uploads are restricted to safe file types in config/chatify.php
# - Generate VAPID keys using: php artisan webpush:vapid
# - Never commit .env file - only commit .env.example with placeholders

APP_NAME=Laravel
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_TIMEZONE=UTC
APP_URL=http://localhost

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

APP_MAINTENANCE_DRIVER=file
# APP_MAINTENANCE_STORE=database

PHP_CLI_SERVER_WORKERS=4

BCRYPT_ROUNDS=12

LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

DB_CONNECTION=sqlite
# DB_HOST=127.0.0.1
# DB_PORT=3306
# DB_DATABASE=laravel
# DB_USERNAME=root
# DB_PASSWORD=

SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

BROADCAST_CONNECTION=log
FILESYSTEM_DISK=local
QUEUE_CONNECTION=database

# Laravel Reverb (WebSocket Server for Real-Time Chat)
REVERB_APP_ID=local
REVERB_APP_KEY=local-key
REVERB_APP_SECRET=local-secret
REVERB_HOST=localhost
REVERB_PORT=8080
REVERB_SCHEME=http
REVERB_SERVER_HOST=0.0.0.0
REVERB_SERVER_PORT=8080

# Broadcasting Driver (use "reverb" to enable real-time features)
BROADCAST_DRIVER=log

# Cloudflare WebSocket Notes:
# - When deploying behind Cloudflare with HTTPS, use:
#   REVERB_SCHEME=https
#   REVERB_HOST=your-domain.com
#   REVERB_PORT=443
# - Use Full/Strict SSL mode (not Flexible) for stable wss:// connections
# - WebSockets must be served over wss:// when site is https://
# - Consider using Cloudflare Tunnel for local development with HTTPS
# - In production, run Reverb via process manager (e.g., Supervisor)

CACHE_STORE=database
CACHE_PREFIX=

MEMCACHED_HOST=127.0.0.1

REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

MAIL_MAILER=log
MAIL_SCHEME=null
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# Sentry Configuration (Error Tracking & Performance Monitoring)
# Backend (Laravel) Sentry DSN
SENTRY_LARAVEL_DSN=
# Frontend Sentry DSN (for browser errors)
VITE_SENTRY_DSN=
# Sentry release version (auto-set by CI/CD, can override for local testing)
SENTRY_RELEASE=
VITE_SENTRY_RELEASE=
# Sentry Organization and Projects (for source map uploads)
SENTRY_ORG=mbfd
SENTRY_PROJECT_BACKEND=support-backend
SENTRY_PROJECT_FRONTEND=support-frontend
# Sentry Auth Token (for CI/CD source map uploads, keep in GitHub Secrets)
SENTRY_AUTH_TOKEN=

VITE_APP_NAME="${APP_NAME}"

# Cloudflare Workers AI Configuration
CLOUDFLARE_ACCOUNT_ID=
CLOUDFLARE_API_TOKEN=
CLOUDFLARE_AI_ENABLED=false
CLOUDFLARE_AI_MODEL=@cf/meta/llama-3-8b-instruct
AI_ANALYSIS_ENABLED=false

# Cloudflare Worker Integration
CLOUDFLARE_WORKER_URL=https://mbfd-support-ai.pdarleyjr.workers.dev
CLOUDFLARE_WORKER_API_SECRET=

# Web Push Notifications (VAPID Keys)
# Generate keys using: php artisan webpush:vapid
VAPID_SUBJECT=mailto:your-email@example.com
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_PEM_FILE=

# Chat Notification Rate Limiting
# Notifications are rate limited to 1 per 30 seconds per sender-recipient pair
# This prevents spam when users send multiple messages quickly
# Rate limiting is applied in ChMessageObserver and uses Laravel's RateLimiter
